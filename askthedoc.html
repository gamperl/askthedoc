<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<meta name="application-name" content="AskTheDoc"/>
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
		<title>AskTheDoc</title>
		<style>
			body {
			    background-color: #010c28;
			    color: #E8EFFF;
			    font-family: 'Noto Sans', Verdana, sans-serif;
			    font-size: 16px;
			}
			.content {
				display: flex;
				flex-direction: column;
			}
			.block {
				width: 100%;
				line-height: 1.5rem;
			}
			.block > div {
				margin: 0.5rem 1rem 1.5rem 1.5rem;
				max-width: 48rem;
				margin-left: auto;
				margin-right: auto;
				border-width: 1px;
			}
			.answer > div {
				display: flex;
			}
			.answer > div {
				flex: 1;
				border-radius: 2px;
				background-color: #201f37;
				padding: 16px;
			}

			.answer a {
				color: #E8EFFF;
				text-decoration: none;
			}

			.answer .content {
				white-space: pre-wrap;
			}

			.answer > div::before {
				content: url("data:image/svg+xml; utf8, <svg height=\"32\" viewBox=\"1698.517 1726.119 144.773 159.82\" xmlns=\"http://www.w3.org/2000/svg\"><g transform=\"matrix(0.8618299961090088, 0, 0, 0.8618299961090088, 556.7683715820312, 247.03187561035156)\"><path style=\"fill: rgb(194 140 185)\" d=\"M1414.4926758,1803.270874   c3.1679688,3.1669922,3.1679688,8.3237305,0,11.4919434c-1.5338135,1.5335693-3.5753174,2.3768311-5.7459717,2.3768311   c-2.1710205,0-4.2099609-0.8432617-5.7459717-2.3768311c-3.1707764-3.1707764-3.1707764-8.3287354-0.0025635-11.4969482   C1406.064209,1800.2001953,1411.4240723,1800.2001953,1414.4926758,1803.270874z M1360.7598877,1849.5426025   c-2.0522461,2.0551758-2.0522461,5.3983154,0.005127,7.4560547c0.994751,0.9946289,2.3186035,1.543335,3.7266846,1.543335   c1.4064941,0,2.729248-0.5487061,3.7264404-1.543335c2.0526123-2.0551758,2.0526123-5.3983154,0-7.4509277   C1366.2236328,1847.5541992,1362.7496338,1847.5480957,1360.7598877,1849.5426025z M1347.5671387,1864.1755371   c-1.6557617,1.6595459-1.6557617,4.3591309,0,6.0196533c0.8061523,0.803833,1.8747559,1.2474365,3.0101318,1.2474365   c1.1379395,0,2.2078857-0.4436035,3.0092773-1.2474365c0.8063965-0.803833,1.2476807-1.8737793,1.2476807-3.0091553   c0-1.1379395-0.4438477-2.2091064-1.2476807-3.010498   C1351.9790039,1862.5681152,1349.1768799,1862.5643311,1347.5671387,1864.1755371z M1449.2774658,1849.5426025   c-2.0550537,2.0577393-2.0576172,5.4008789-0.0025635,7.4560547c0.9937744,0.9946289,2.3151855,1.543335,3.7230225,1.543335   c1.411499,0,2.7329102-0.5487061,3.7304688-1.5458984c2.057373-2.0551758,2.057373-5.3983154,0-7.4534912   C1454.7386475,1847.5529785,1451.2694092,1847.5529785,1449.2774658,1849.5426025z M1463.9053955,1864.1719971   c-1.6580811,1.657959-1.6555176,4.3588867,0.0024414,6.0194092c0.8039551,0.803833,1.8725586,1.24646,3.0079346,1.24646   s2.206665-0.442627,3.010498-1.24646c0.803833-0.8010254,1.2462158-1.8725586,1.2462158-3.0101318   c0-1.135376-0.4449463-2.2043457-1.2462158-3.0079346   C1468.3187256,1862.5681152,1465.5178223,1862.5620117,1463.9053955,1864.1719971z M1430.1339111,1778.4862061   c-2.517334,2.5196533-2.5198975,6.6187744-0.0025635,9.1384277c1.220459,1.2191162,2.8428955,1.8922119,4.5710449,1.8922119   c1.7271729,0,3.3520508-0.6730957,4.5725098-1.8922119c1.220459-1.220459,1.8922119-2.8426514,1.8896484-4.5710449   c-0.0012207-1.7246094-0.6743164-3.3482666-1.8947754-4.5673828   C1436.8302002,1776.0452881,1432.5736084,1776.0452881,1430.1339111,1778.4862061z M1430.1339111,1830.4041748   c-1.2191162,1.2191162-1.8922119,2.84021-1.8922119,4.5661621c-0.0025635,1.7269287,0.6705322,3.3504639,1.8922119,4.5697021   c1.220459,1.220459,2.840332,1.8947754,4.5710449,1.8947754c1.7246094,0,3.3494873-0.671875,4.5699463-1.8922119   c1.220459-1.220459,1.8922119-2.8428955,1.8896484-4.5699463c-0.0012207-1.7259521-0.6743164-3.3493652-1.8947754-4.5684814   C1436.8302002,1827.9594727,1432.5736084,1827.9594727,1430.1339111,1830.4041748z M1389.2491455,1834.9703369   c-0.0025635-1.7259521-0.6743164-3.3482666-1.8947754-4.5687256c-2.4395752-2.4395752-6.6987305-2.4395752-9.1358643,0   c-2.5211182,2.5196533-2.5211182,6.6187744,0,9.1384277c1.2192383,1.220459,2.8427734,1.8922119,4.5697021,1.8922119   c1.7283936,0,3.3508301-0.6717529,4.571167-1.8922119   C1388.5786133,1838.3208008,1389.251709,1836.6972656,1389.2491455,1834.9703369z M1378.2159424,1787.6246338   c1.220459,1.2191162,2.8428955,1.8922119,4.5699463,1.8922119c1.7281494,0,3.3505859-0.6730957,4.5710449-1.8922119   c1.220459-1.220459,1.8922119-2.8426514,1.8896484-4.5684814c0-1.7271729-0.6717529-3.3508301-1.8922119-4.5699463   c-2.4395752-2.440918-6.6962891-2.440918-9.1358643,0   C1375.6973877,1781.0058594,1375.6973877,1785.1049805,1378.2159424,1787.6246338z M1453.0064697,1770.0281982   c1.4067383,0,2.7294922-0.5473633,3.7219238-1.5421143c2.057373-2.0550537,2.0548096-5.3995361-0.0025635-7.4559326   c-1.9897461-1.9907227-5.4598389-1.9907227-7.4509277,0c-0.9971924,0.9949951-1.5445557,2.3189697-1.5445557,3.7266846   c0,1.4064941,0.5473633,2.7294922,1.5445557,3.7242432   C1450.2722168,1769.4782715,1451.5974121,1770.0281982,1453.0064697,1770.0281982z M1466.9110107,1755.0993652   c1.135376,0,2.2041016-0.4438477,3.0101318-1.2474365c0.8039551-0.8026123,1.24646-1.8699951,1.24646-3.0067139   c0.0048828-1.1378174-0.4400635-2.2067871-1.24646-3.0129395c-1.6048584-1.6074219-4.4093018-1.6049805-6.0157471,0.0025635   c-0.8049316,0.8035889-1.2462158,1.8725586-1.2487793,3.010376c0,1.1367188,0.4438477,2.2053223,1.2474365,3.0067139   C1464.7080078,1754.6555176,1465.7756348,1755.0993652,1466.9110107,1755.0993652z M1364.4866943,1770.0307617   c1.4064941,0,2.7293701-0.5499268,3.7266846-1.5446777c2.0550537-2.0576172,2.057373-5.4020996,0.0047607-7.4559326   c-1.9907227-1.9907227-5.463501-1.9907227-7.458252,0.0012207c-2.0522461,2.0551758-2.0522461,5.3996582,0,7.4547119   C1361.7574463,1769.480835,1363.0802002,1770.0307617,1364.4866943,1770.0307617z M1405.1641846,1776.8009033   c0.9577637,0.956665,2.2287598,1.484375,3.5799561,1.484375c1.3535156,0,2.6269531-0.52771,3.5822754-1.484375   c0.9569092-0.9553223,1.4842529-2.2287598,1.4842529-3.5847168c0-1.3535156-0.5250244-2.6247559-1.4816895-3.5800781   c-1.9106445-1.9144287-5.2503662-1.9144287-7.1671143,0   C1403.1879883,1771.6134033,1403.1879883,1774.8261719,1405.1641846,1776.8009033z M1449.6090088,1809.0144043   c0-1.3535156-0.52771-2.6269531-1.4842529-3.5848389c-1.9155273-1.9145508-5.2526855-1.9119873-7.1672363,0.0025635   c-1.9725342,1.9747314-1.9725342,5.1896973,0,7.1645508c0.9578857,0.9569092,2.2314453,1.4842529,3.5848389,1.4842529   c1.3513184,0,2.6221924-0.5273438,3.5800781-1.4842529   C1449.0791016,1811.6413574,1449.6066895,1810.3679199,1449.6090088,1809.0144043z M1376.5332031,1805.4321289   c-1.9169922-1.918335-5.2563477-1.9122314-7.1660156,0.0021973c-1.977417,1.9750977-1.9748535,5.1900635,0,7.1635742   c0.956543,0.9578857,2.2299805,1.4855957,3.5812988,1.4855957c1.3509521,0,2.6243896-0.52771,3.5822754-1.4855957   C1378.5054932,1810.6218262,1378.5068359,1807.4068604,1376.5332031,1805.4321289z M1405.1606445,1841.2303467   c-1.9726562,1.9772949-1.9726562,5.1884766,0,7.1610107c0.956543,0.9578857,2.2299805,1.487793,3.5834961,1.487793   s2.6221924-0.5275879,3.5800781-1.4852295c1.9772949-1.9763184,1.9772949-5.1912842,0.0021973-7.1661377   C1410.4157715,1839.3133545,1407.0750732,1839.3157959,1405.1606445,1841.2303467z M1347.5671387,1747.8372803   c-0.8063965,0.8011475-1.2490234,1.8725586-1.24646,3.0102539c0,1.1343994,0.4400635,2.2030029,1.24646,3.006958   c0.8010254,0.8035889,1.8699951,1.2474365,3.0101318,1.2474365c1.135376,0,2.2043457-0.4414062,3.0079346-1.2452393   c1.6583252-1.657959,1.6583252-4.3588867-0.0021973-6.0194092   C1351.970459,1746.2272949,1349.1695557,1746.2321777,1347.5671387,1747.8372803z M1384.4315186,1726.4942627   c-0.8035889,0.803833-1.244873,1.8725586-1.244873,3.0091553c0,1.135376,0.4436035,2.2043457,1.2474365,3.0079346   c0.803833,0.803833,1.8737793,1.24646,3.0091553,1.24646s2.2041016-0.4400635,3.0079346-1.2438965   c0.803833-0.8061523,1.2487793-1.8751221,1.2462158-3.0117188c-0.0009766-1.135376-0.4423828-2.2041016-1.2487793-3.0053711   C1388.8411865,1724.8867188,1386.0415039,1724.8842773,1384.4315186,1726.4942627z M1405.7387695,1743.2512207   c-1.6557617,1.6582031-1.6557617,4.3591309,0,6.0170898c0.8061523,0.803833,1.8748779,1.24646,3.010376,1.24646   c1.135376,0,2.2041016-0.4400635,3.0090332-1.2438965c0.8063965-0.8061523,1.2476807-1.8751221,1.2476807-3.0114746   c0-1.1356201-0.4464111-2.2043457-1.25-3.0056152C1410.1506348,1741.6414795,1407.3461914,1741.6436768,1405.7387695,1743.2512207z    M1468.6368408,1806.149292c-1.6582031,1.6583252-1.6568604,4.3592529,0.0023193,6.0172119   c0.803833,0.8063965,1.8737793,1.2489014,3.0091553,1.2489014c1.1379395,0,2.2043457-0.4425049,3.0079346-1.24646   c0.8039551-0.8061523,1.2490234-1.875,1.24646-3.0126953c-0.0012207-1.1356201-0.4425049-2.2017822-1.2486572-3.0056152   C1473.0474854,1804.5418701,1470.2469482,1804.5393066,1468.6368408,1806.149292z M1485.2493896,1827.3111572   c-0.8035889,0.8035889-1.244873,1.8725586-1.244873,3.010376c0,1.135376,0.4425049,2.2041016,1.2462158,3.0079346   c0.803833,0.8037109,1.8725586,1.2462158,3.010376,1.2462158c1.135376,0,2.2043457-0.4400635,3.0079346-1.2438965   c0.803833-0.8061523,1.2487793-1.8748779,1.24646-3.0126953c-0.0025635-1.135376-0.442627-2.2017822-1.2489014-3.0057373   C1489.6590576,1825.7023926,1486.8581543,1825.7047119,1485.2493896,1827.3111572z M1326.2218018,1784.7042236   c-0.8013916,0.8026123-1.2440186,1.8713379-1.2414551,3.0092773c0,1.135376,0.4400635,2.2039795,1.2462158,3.0079346   c0.8013916,0.803833,1.8699951,1.2460938,3.0079346,1.2460938c1.1378174,0,2.2055664-0.4422607,3.0067139-1.2460938   c1.6617432-1.6593018,1.6594238-4.3566895,0-6.0172119   C1330.6348877,1783.0968018,1327.8292236,1783.0968018,1326.2218018,1784.7042236z M1427.0396729,1885.520874   c-1.6569824,1.6569824-1.6569824,4.3566895,0.0047607,6.0172119c0.8013916,0.803833,1.8713379,1.2476807,3.0091553,1.2476807   c1.135376,0,2.2043457-0.4438477,3.0057373-1.2476807c1.6605225-1.6580811,1.657959-4.3590088,0-6.0172119   C1431.4515381,1883.9134521,1428.6470947,1883.9134521,1427.0396729,1885.520874z M1326.223999,1827.3133545   c-0.8035889,0.8013916-1.2486572,1.8703613-1.2486572,3.0057373c0,1.1378174,0.4412842,2.206543,1.24646,3.0126953   c0.8035889,0.803833,1.8712158,1.2438965,3.0065918,1.2438965l0,0c1.1379395,0,2.2078857-0.4425049,3.0117188-1.2462158   c0.8037109-0.803833,1.2462158-1.8725586,1.2487793-3.010376c0-1.135376-0.4438477-2.2043457-1.2476807-3.0079346   C1330.6348877,1825.7047119,1327.8292236,1825.7023926,1326.223999,1827.3133545z M1430.0476074,1733.7565918   c1.1378174,0,2.2053223-0.4438477,3.0117188-1.2474365c0.8035889-0.8039551,1.2462158-1.8703613,1.2462158-3.006958   c0-1.135376-0.4400635-2.206543-1.2462158-3.0102539c-1.6077881-1.6099854-4.4084473-1.607666-6.0170898,0.0023193   c-1.6595459,1.6607666-1.6595459,4.3591309-0.0025635,6.0170898   C1427.8409424,1733.3151855,1428.909668,1733.7565918,1430.0476074,1733.7565918z M1384.434082,1885.520874   c-0.8061523,0.8039551-1.2474365,1.8701172-1.2487793,3.0057373c-0.0024414,1.1375732,0.4400635,2.206543,1.2437744,3.0114746   c0.803833,0.803833,1.8702393,1.2451172,3.010376,1.2451172c1.135376,0,2.2043457-0.4412842,3.0091553-1.2451172   c0.8039551-0.8023682,1.2478027-1.8713379,1.2478027-3.0092773c0-1.135376-0.4414062-2.2039795-1.2452393-3.0079346   C1388.8411865,1883.9134521,1386.0428467,1883.909668,1384.434082,1885.520874z M1488.2563477,1791.965332   c1.1375732,0,2.2091064-0.442627,3.0102539-1.24646c0.8062744-0.8035889,1.2463379-1.8725586,1.2463379-3.010498   c0.0025635-1.1352539-0.4400635-2.2027588-1.2438965-3.0065918c-1.6099854-1.6099854-4.4108887-1.6075439-6.0183105,0.0024414   c-0.8037109,0.8013916-1.2462158,1.8675537-1.2487793,3.0041504c-0.0025635,1.1379395,0.4438477,2.2069092,1.2487793,3.0130615   C1486.0533447,1791.5252686,1487.1207275,1791.965332,1488.2563477,1791.965332z M1349.019043,1805.9902344   c-1.6074219-1.6062012-4.413208-1.6062012-6.0194092,0c-0.803833,0.8039551-1.2476807,1.8726807-1.2451172,3.010498   c0.0024414,1.135376,0.4425049,2.2043457,1.24646,3.0079346c0.8035889,0.803833,1.8725586,1.24646,3.0101318,1.24646   c1.135376,0,2.2043457-0.4412842,3.0079346-1.2438965   C1350.6772461,1810.3519287,1350.6772461,1807.6520996,1349.019043,1805.9902344z M1405.8988037,1868.8884277   c-1.6605225,1.6595459-1.657959,4.3591309,0,6.0184326c0.803833,0.803833,1.8725586,1.2463379,3.010498,1.2463379   c1.135376,0,2.2042236-0.4412842,3.0091553-1.2451172c0.803833-0.8049316,1.2476807-1.8739014,1.2476807-3.0117188   c-0.0024414-1.135376-0.4462891-2.2015381-1.2512207-3.0053711   C1410.307251,1867.2796631,1407.5065918,1867.2810059,1405.8988037,1868.8884277z\"/></g></svg>");
				margin-right: 1rem;
				vertical-align: middle;
			}

			.searchbox {
				height: 48px;
				border: 4px solid #201f37;
				border-radius: 20px;
			}

			.searchbox input[type="search"] {
				position: relative;
				border-width: 0;
				padding-left: 20px;
				padding-right: 44px;
				height: 100%;
				width: calc(100% - 48px);
				-webkit-appearance: none; /* to prevent Safari from ignoring font-size */
			    color: #E8EFFF;
				background: transparent;
				-webkit-tap-highlight-color: transparent; /* Otherwise, tapping will show a flash of grey background on iOS Safari; see https://twitter.com/masa_kudamatsu/status/1429387005658468356 */
			}
			.searchbox input[type="search"]:focus {
				outline: 1px solid transparent; /* fallback for forced color modes; see https://www.sarasoueidan.com/blog/focus-indicators/#tips-for-styling-focus-indicators */
				/* it also removes the default focus ring imposed by browsers */
			}
			.searchbox input[type="search"]::placeholder {
				color: rgb(148, 148, 148);
				opacity: 1; /* to override the default of Firefox */
			}
			.searchbox input[type="search"]::-webkit-search-decoration {
				-webkit-appearance: none; /* Remove the left padding inside the box for Safari; see https://github.com/filipelinhares/ress/blob/master/ress.css */
			}
			.searchbox input[type="search"]::-webkit-search-cancel-button {
				-webkit-appearance: none; /* Remove default */
			}
			.searchbox .icon {
				height: 30px;
				width: 30px;
				left: auto;
				right: 10px;
                float: right;
                padding: 9px;
    		}
		</style>

		<script type="module">
			// more images https://cdn.dribbble.com/users/1019/screenshots/19689206/downloads/38%20Free%20Logos%20-%20By%20Larkef.svg
			// color palett generator https://mycolor.space
			// svg editor: https://boxy-svg.com/app

			async function scrapeDoc() {
				const articleUrl = document.getElementById('zendeskArticleUri').value;
				const openAIAPIKey = document.getElementById('openAIAPIKey').value;

				if (!articleUrl || !openAIAPIKey) {
					console.log('missing input');
					return;
				}

				sessionStorage.setItem("zendeskArticleUri", articleUrl);
				sessionStorage.setItem("openAIAPIKey", openAIAPIKey);

				const articles = await scrapePage(document.getElementById('zendeskArticleUri').value);
				await addEmbeddings(articles, openAIAPIKey);
				localStorage.setItem("articles", JSON.stringify(articles));

				console.log('done')
			}
			async function scrapePage(url) {
				const articles = [];
				console.log('scraping', url);

				const response = await fetch(url, { mode: 'cors' });
				const json = await response.json();

				if (typeof json !== "object" || json === null || !Array.isArray(json.articles)) {
					console.log('error loading articles');
					return;
				}

				// TODO: split articles into chunks of more than 500 characters
				articles.push(...json.articles
					.filter(article => typeof article.body === 'string' && article.body.length < 8000)
					.map(article => ({
						"id": article.id,
						"title": article.title,
						"body": article.body,
						"url": article.url
					}))
				);

				if (typeof json.next_page === 'string') {
					articles.push(...await scrapePage(json.next_page));
				}

				return articles;
			}

			async function addEmbeddings(articles, apiKey) {
				await Promise.all(articles.map(async article => {
					article.embedding = await getEmbedding(article.body, apiKey);
				}));
			}

			async function getEmbedding(content, apiKey) {
				const response = await fetch('https://api.openai.com/v1/embeddings', {
					method: 'POST',
					mode: 'cors',
					headers: {
						'Content-Type': 'application/json',
						Authorization: `Bearer ${apiKey}`
					},
					body: JSON.stringify({
						'input': content,
						'model': 'text-embedding-ada-002'
					})
				});
				const json = await response.json();
				return json.data[0].embedding.slice();
			}

			function cosinusDistance(vecA, vecB) {
				const normA = Math.sqrt(vecA.reduce((acc, val) => acc + val ** 2, 0));
				const normB = Math.sqrt(vecB.reduce((acc, val) => acc + val ** 2, 0));
				const AdotB = vecA.reduce((acc, val, index) => acc + val * vecB[index], 0);
				return 1 - AdotB / (normA * normB);
			}

			async function askQuestion() {
				const articles = JSON.parse(localStorage.getItem("articles"));

				const question = document.querySelector('.searchbox input').value;
				const apiKey = document.getElementById('openAIAPIKey').value;
				const embedding = await getEmbedding(question, apiKey);

				articles.forEach(article => article.distance = cosinusDistance(article.embedding, embedding));
				articles.sort((articleA, articleB) => articleA.distance - articleB.distance);
				const relevantArticles = articles.slice(0, 3);

				document.getElementById('references').innerHTML = '';
				relevantArticles.forEach(article => {
					document.getElementById('references').innerHTML += `<div><a href="${article.url}">${article.title}</a></div>`;
				});


				const messages = [{
					'role': 'system',
					'content': 'Du beantwortest Fragen über die Vereinssoftware Webling wertschätzend, ausfühlich und in Du-Form.\n' +
						'Zum Beantworten der Fragen darfst du nur Informationen aus den Prompt verwenden.\n' +
						'Falls du die Frage nicht ausschliesslich mit den Infromationen aus dem Prompt beantworten kannst, antwort mit "Ich weiss es nicht."\n' +
						'Du bist ein Supportmitarbeiter von Webling. Du Beantfortest fragen abschliessend.'
				}];
				let userPrompt = `Beantworte die Frage ausschliesslich mit den Informationen aus dem Prompt.\n """${question}""\n\n` +
					'Dokumentation der Vereinssoftware Webling:'
				articles.slice(0, 3).forEach(article => {
					userPrompt += `${article.title}\n\n${article.body}\n`
				});
				messages.push({ 'role': 'user', 'content': userPrompt })

				const response = await fetch("https://api.openai.com/v1/chat/completions", {
					method: "POST",
					headers: {
						'Content-Type': "application/json",
						Authorization: `Bearer ${apiKey}`,
					},
					body: JSON.stringify({
						model: "gpt-4",
						temperature: 0,
						stream: true,
						messages
					}),
				});

				const reader = response.body.pipeThrough(new TextDecoderStream()).getReader();

				let answer = '';
				while (true) {
					const { value, done } = await reader.read();
					if (done) break;
					value.split('\n').forEach(line => {
						if (line.startsWith('data:') && line !== 'data: [DONE]') {
							try {
								const data = JSON.parse(line.substring(5).trim());
								answer += data.choices[0].delta.content;
								document.querySelector('.answer .content').innerHTML = answer;
							} catch (error) {
								console.error(error, line);
							}
						}
					});
				}
			}

			// async function scrapeDoc() {
			// 	scrapePage(document.getElementById('entryPoint').value);
			// }
			// async function scrapePage(url) {
			// 	try {
			// 		const response = await fetch(url, { mode: 'cors' });
			// 		const html = await response.text();
			// 		const parser = new DOMParser();
			// 		const doc = parser.parseFromString(html, 'text/html');
			// 		const links = doc.querySelectorAll('a[href]');
			// 		links.forEach(link => {
			// 		  console.log(link.href);
			// 		});
			// 	} catch (error) {
			// 		console.error(error);
			// 	}
			// }


			function onDOMContentLoaded() {
				document.removeEventListener('DOMContentLoaded', onDOMContentLoaded);
				document.getElementById('scrape').addEventListener('click', scrapeDoc);
				document.querySelector('.searchbox .icon').addEventListener('click', askQuestion);

				if (sessionStorage.getItem("openAIAPIKey")) {
					document.getElementById('openAIAPIKey').value = sessionStorage.getItem("openAIAPIKey");
				}
				if (sessionStorage.getItem("zendeskArticleUri")) {
					document.getElementById('zendeskArticleUri').value = sessionStorage.getItem("zendeskArticleUri");
				}
			}
			document.addEventListener('DOMContentLoaded', onDOMContentLoaded);
		</script>
	</head>
	<body>
		<div>
			<label for="openAIAPIKey">OpenApiKey</label>
			<input id="openAIAPIKey">
		</div>
		<div>
			<label for="zendeskArticleUri">Zendesk Helpcenter API</label>
			<input id="zendeskArticleUri">
		</div>
		<div>
			<button id="scrape">Scrape</button>
		</div>
		<br><br><br>
		<div class="content">
			<div class="block question">
				<div>
					<div class="searchbox">
						<input autocomplete="off" inputmode="search" placeholder="Ask the source" type="search"

	value="Wie erstelle ich einen neuen Benutze"

						>

						<svg class="icon" viewBox="0 0 24 24">
							<path style="fill: rgb(194 140 185)" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" />
						</svg>
					</div>
				</div>
			</div>
			<div class="block">
				<div id="references">gruke</div>
			</div>
			<div class="block answer">
				<div>
					<div class="content"></div>
				</div>
			</div>
		</div>

<!--		<div>-->
<!--			<label for="baseUrl">Base URL</label>-->
<!--			<input id="baseUrl" placeholder="https://docs.github.com/en"-->
<!--			>-->
<!--		</div>-->
<!--		<div>-->
<!--			<label for="entryPoint">Entry point</label>-->
<!--			<input id="entryPoint" placeholder="https://docs.github.com/en"-->
<!--			>-->
<!--		</div>-->
<!--		<div>-->
<!--			<button id="scrape">Scrape</button>-->
<!--		</div>-->
<!--		<div>-->
<!--			<ul id="scraped"></ul>-->
<!--		</div>-->
	</body>
</html>
